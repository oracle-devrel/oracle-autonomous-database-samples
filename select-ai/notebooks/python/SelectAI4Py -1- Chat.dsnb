[
  {
    "name" : "SelectAI4Py -1- Chat",
    "description" : null,
    "tags" : null,
    "version" : "7",
    "layout" : "jupyter",
    "type" : "low",
    "snapshot" : false,
    "isEditable" : true,
    "isRunnable" : true,
    "template" : null,
    "templateConfig" : null,
    "paragraphs" : [
      {
        "row" : 0,
        "col" : 0,
        "sizeX" : 0,
        "width" : 0,
        "title" : null,
        "hasTitle" : false,
        "message" : [ ],
        "selectedVisualization" : null,
        "visualizationConfig" : null,
        "hideCode" : true,
        "hideResult" : true,
        "hideGutter" : true,
        "hideVizConfig" : true,
        "hideInIFrame" : false,
        "enabled" : true,
        "forms" : "[]",
        "result" : {
          "startTime" : 1764695456737,
          "endTime" : 1764695457223,
          "interpreter" : "md.low",
          "taskStatus" : "SUCCESS",
          "status" : "SUCCESS",
          "results" : [ ],
          "forms" : "[]"
        },
        "relations" : [ ],
        "dynamicFormParams" : "{}"
      },
      {
        "row" : 0,
        "col" : 0,
        "sizeX" : 0,
        "width" : 12,
        "title" : null,
        "hasTitle" : false,
        "message" : [
          "%md",
          "# Using Select AI for Chat-Based LLM Interactions ",
          "",
          "Select AI enables you to interact with large language models (LLMs) directly from your database through natural language prompts. ",
          "The `chat` action sends your prompt to the LLM and returns the response, supporting more traditional chatbot-like interactions.",
          "",
          "The `chat` action provides your prompt to the LLM without augmentation - supporting a wide range of use cases, for example:",
          "",
          "* Content generation",
          "* Question answering",
          "* Information extraction",
          "* Sentiment analysis",
          "* Chatbot/conversation",
          "* Content translation",
          "* Document summarization",
          "* Write email responses",
          "* Code generation",
          "* Discover topics/themes",
          "",
          "You can apply manual prompt engineering techniques to customize results.",
          "",
          "---",
          "Copyright (c) 2025 Oracle Corporation  ",
          "###### [The Universal Permissive License (UPL), Version 1.0](https://oss.oracle.com/licenses/upl/)"
        ],
        "selectedVisualization" : "html",
        "visualizationConfig" : null,
        "hideCode" : true,
        "hideResult" : false,
        "hideGutter" : true,
        "hideVizConfig" : true,
        "hideInIFrame" : false,
        "enabled" : true,
        "forms" : "[]",
        "result" : {
          "startTime" : 1764695457631,
          "endTime" : 1764695458062,
          "interpreter" : "md.low",
          "taskStatus" : "SUCCESS",
          "status" : "SUCCESS",
          "results" : [
            {
              "message" : "<h1 id=\"using-select-ai-for-chat-based-llm-interactions\">Using Select AI for Chat-Based LLM Interactions</h1>\n<p>Select AI enables you to interact with large language models (LLMs) directly from your database through natural language prompts.\nThe <code>chat</code> action sends your prompt to the LLM and returns the response, supporting more traditional chatbot-like interactions.</p>\n<p>The <code>chat</code> action provides your prompt to the LLM without augmentation - supporting a wide range of use cases, for example:</p>\n<ul>\n<li>Content generation</li>\n<li>Question answering</li>\n<li>Information extraction</li>\n<li>Sentiment analysis</li>\n<li>Chatbot/conversation</li>\n<li>Content translation</li>\n<li>Document summarization</li>\n<li>Write email responses</li>\n<li>Code generation</li>\n<li>Discover topics/themes</li>\n</ul>\n<p>You can apply manual prompt engineering techniques to customize results.</p>\n<hr />\n<p>Copyright (c) 2025 Oracle Corporation</p>\n<h6 id=\"the-universal-permissive-license-upl-version-10\"><a href=\"https://oss.oracle.com/licenses/upl/\">The Universal Permissive License (UPL), Version 1.0</a></h6>\n",
              "type" : "HTML"
            }
          ],
          "forms" : "[]"
        },
        "relations" : [ ],
        "dynamicFormParams" : "{}"
      },
      {
        "row" : 0,
        "col" : 0,
        "sizeX" : 0,
        "width" : 12,
        "title" : null,
        "hasTitle" : false,
        "message" : [
          "%md",
          "### For more information...",
          "",
          "<a href=\"https://docs.oracle.com/en/cloud/paas/autonomous-database/serverless/pysai/index.html\" target=\"_blank\">Select AI for Python documentation</a>"
        ],
        "selectedVisualization" : "html",
        "visualizationConfig" : null,
        "hideCode" : true,
        "hideResult" : false,
        "hideGutter" : true,
        "hideVizConfig" : true,
        "hideInIFrame" : false,
        "enabled" : true,
        "forms" : "[]",
        "result" : {
          "startTime" : 1764695458531,
          "endTime" : 1764695458889,
          "interpreter" : "md.low",
          "taskStatus" : "SUCCESS",
          "status" : "SUCCESS",
          "results" : [
            {
              "message" : "<h3 id=\"for-more-information\">For more information...</h3>\n<p><a href=\"https://docs.oracle.com/en/cloud/paas/autonomous-database/serverless/pysai/index.html\" target=\"_blank\">Select AI for Python documentation</a></p>\n",
              "type" : "HTML"
            }
          ],
          "forms" : "[]"
        },
        "relations" : [ ],
        "dynamicFormParams" : "{}"
      },
      {
        "row" : 0,
        "col" : 0,
        "sizeX" : 0,
        "width" : 12,
        "title" : null,
        "hasTitle" : false,
        "message" : [
          "%md",
          "## Prerequisites",
          "",
          "Before proceeding, you must complete the required setup steps in the **SelectAI4Py -0- Prerequisites and Setup** notebook:",
          "",
          "* ADMIN: grants and network access",
          "* Select AI user: OCI_GENAI_PY_DEMO profile definition",
          "",
          "These steps are required for the chat commands in this notebook to run correctly."
        ],
        "selectedVisualization" : "html",
        "visualizationConfig" : null,
        "hideCode" : true,
        "hideResult" : false,
        "hideGutter" : true,
        "hideVizConfig" : true,
        "hideInIFrame" : false,
        "enabled" : true,
        "forms" : "[]",
        "result" : {
          "startTime" : 1764695459331,
          "endTime" : 1764695459732,
          "interpreter" : "md.low",
          "taskStatus" : "SUCCESS",
          "status" : "SUCCESS",
          "results" : [
            {
              "message" : "<h2 id=\"prerequisites\">Prerequisites</h2>\n<p>Before proceeding, you must complete the required setup steps in the <strong>SelectAI4Py -0- Prerequisites and Setup</strong> notebook:</p>\n<ul>\n<li>ADMIN: grants and network access</li>\n<li>Select AI user: OCI_GENAI_PY_DEMO profile definition</li>\n</ul>\n<p>These steps are required for the chat commands in this notebook to run correctly.</p>\n",
              "type" : "HTML"
            }
          ],
          "forms" : "[]"
        },
        "relations" : [ ],
        "dynamicFormParams" : "{}"
      },
      {
        "row" : 0,
        "col" : 0,
        "sizeX" : 0,
        "width" : 12,
        "title" : "Create a profile proxy object for the current session",
        "hasTitle" : true,
        "message" : [
          "%python",
          "",
          "import select_ai",
          "",
          "profile = select_ai.Profile(profile_name = \"OCI_GENAI_PY_DEMO\")"
        ],
        "selectedVisualization" : "html",
        "visualizationConfig" : null,
        "hideCode" : false,
        "hideResult" : false,
        "hideGutter" : true,
        "hideVizConfig" : false,
        "hideInIFrame" : false,
        "enabled" : true,
        "forms" : "[]",
        "result" : {
          "startTime" : 1764695460165,
          "endTime" : 1764695462891,
          "interpreter" : "python.low",
          "taskStatus" : "SUCCESS",
          "status" : "SUCCESS",
          "results" : [ ],
          "forms" : "[]"
        },
        "relations" : [ ],
        "dynamicFormParams" : "{}"
      },
      {
        "row" : 0,
        "col" : 0,
        "sizeX" : 0,
        "width" : 12,
        "title" : "Use 'chat' to learn about Autonomous Database",
        "hasTitle" : true,
        "message" : [
          "%python",
          "",
          "response = profile.chat(prompt = \"What is Oracle Autonomous Database?\")",
          "print(response)"
        ],
        "selectedVisualization" : "raw",
        "visualizationConfig" : null,
        "hideCode" : false,
        "hideResult" : false,
        "hideGutter" : true,
        "hideVizConfig" : false,
        "hideInIFrame" : false,
        "enabled" : true,
        "forms" : "[]",
        "result" : {
          "startTime" : 1764695463310,
          "endTime" : 1764695482614,
          "interpreter" : "python.low",
          "taskStatus" : "SUCCESS",
          "status" : "SUCCESS",
          "results" : [
            {
              "message" : "Oracle Autonomous Database is a cloud-based database service that uses artificial intelligence (AI) and machine learning (ML) to automate many of the tasks associated with managing a database. It is a self-driving, self-securing, and self-repairing database that eliminates the need for manual database administration, allowing users to focus on higher-level tasks.\n\nKey features of Oracle Autonomous Database include:\n\n1. **Autonomous Operations**: The database automatically performs tasks such as provisioning, patching, upgrading, and tuning, without human intervention.\n2. **Self-Driving**: The database can automatically optimize its own performance, adjust to changing workloads, and detect and respond to security threats.\n3. **Self-Securing**: The database includes advanced security features, such as encryption, access control, and auditing, to protect sensitive data.\n4. **Self-Repairing**: The database can automatically detect and repair errors, reducing downtime and improving overall availability.\n5. **Machine Learning**: The database uses machine learning algorithms to analyze usage patterns, predict performance, and optimize resource allocation.\n6. **Cloud-Native**: The database is designed to run on Oracle Cloud Infrastructure (OCI), providing a scalable, on-demand, and pay-as-you-go pricing model.\n\nOracle Autonomous Database offers several benefits, including:\n\n1. **Reduced Administration**: Automated database management reduces the need for manual intervention, freeing up DBAs to focus on higher-level tasks.\n2. **Improved Performance**: The database's self-optimizing capabilities ensure optimal performance, even in complex and dynamic environments.\n3. **Enhanced Security**: Advanced security features and automated patching reduce the risk of security breaches and data loss.\n4. **Increased Availability**: Self-repairing capabilities minimize downtime, ensuring high availability and reliability.\n5. **Lower Costs**: Automated management and optimized resource allocation reduce operational costs and improve ROI.\n\nOracle Autonomous Database is available in several editions, including:\n\n1. **Autonomous Transaction Processing (ATP)**: Optimized for transactional workloads, such as OLTP and real-time analytics.\n2. **Autonomous Data Warehouse (ADW)**: Optimized for data warehousing and analytics workloads, such as data integration, reporting, and business intelligence.\n3. **Autonomous JSON Database**: Optimized for JSON data storage and processing, ideal for modern web and mobile applications.\n\nOverall, Oracle Autonomous Database represents a significant shift in the way databases are managed and operated, enabling organizations to focus on innovation and growth, rather than manual database administration.\n",
              "type" : "TEXT"
            }
          ],
          "forms" : "[]"
        },
        "relations" : [ ],
        "dynamicFormParams" : "{}"
      },
      {
        "row" : 0,
        "col" : 0,
        "sizeX" : 0,
        "width" : 12,
        "title" : "Use conversation history to find out when \"it\" was released",
        "hasTitle" : true,
        "message" : [
          "%python",
          "",
          "# Adds previous prompt to this prompt in a \"conversation\", which is provided to the LLM",
          "response = profile.chat(prompt = \"when was it first released?\")",
          "print(response)"
        ],
        "selectedVisualization" : "raw",
        "visualizationConfig" : null,
        "hideCode" : false,
        "hideResult" : false,
        "hideGutter" : true,
        "hideVizConfig" : false,
        "hideInIFrame" : false,
        "enabled" : true,
        "forms" : "[]",
        "result" : {
          "startTime" : 1764695483052,
          "endTime" : 1764695488970,
          "interpreter" : "python.low",
          "taskStatus" : "SUCCESS",
          "status" : "SUCCESS",
          "results" : [
            {
              "message" : "Oracle Autonomous Database was first released in March 2018, as part of Oracle Cloud Infrastructure (OCI). It was initially announced by Oracle CEO Mark Hurd at the Oracle OpenWorld conference in October 2017, and was made generally available to customers in March 2018.\n\nThe first version of Autonomous Database was Autonomous Data Warehouse (ADW), which was released in March 2018. This was followed by the release of Autonomous Transaction Processing (ATP) in August 2018.\n\nSince its initial release, Oracle has continued to enhance and expand the capabilities of Autonomous Database, adding new features, improving performance, and increasing support for a wider range of workloads and use cases.\n",
              "type" : "TEXT"
            }
          ],
          "forms" : "[]"
        },
        "relations" : [ ],
        "dynamicFormParams" : "{}"
      },
      {
        "row" : 0,
        "col" : 0,
        "sizeX" : 0,
        "width" : 12,
        "title" : "Use conversation history to learn how \"it\" integrates with Oracle Cloud services",
        "hasTitle" : true,
        "message" : [
          "%python",
          "",
          "response = profile.chat(prompt = \"How does it integrate with other Oracle Cloud services?\")",
          "print(response)"
        ],
        "selectedVisualization" : "raw",
        "visualizationConfig" : null,
        "hideCode" : false,
        "hideResult" : false,
        "hideGutter" : true,
        "hideVizConfig" : false,
        "hideInIFrame" : false,
        "enabled" : true,
        "forms" : "[]",
        "result" : {
          "startTime" : 1764695489392,
          "endTime" : 1764695505389,
          "interpreter" : "python.low",
          "taskStatus" : "SUCCESS",
          "status" : "SUCCESS",
          "results" : [
            {
              "message" : "Oracle Autonomous Database integrates seamlessly with other Oracle Cloud services, enabling a wide range of use cases and applications. Here are some examples of how it integrates with other Oracle Cloud services:\n\n1. **Oracle Cloud Infrastructure (OCI)**: Autonomous Database is built on top of OCI, which provides a scalable, secure, and high-performance infrastructure for the database.\n2. **Oracle Cloud Applications**: Autonomous Database can be used as a database service for Oracle Cloud Applications, such as Oracle ERP Cloud, Oracle HCM Cloud, and Oracle CX Cloud.\n3. **Oracle Analytics Cloud**: Autonomous Database can be used as a data source for Oracle Analytics Cloud, which provides a comprehensive analytics platform for data visualization, reporting, and machine learning.\n4. **Oracle Integration Cloud**: Autonomous Database can be integrated with Oracle Integration Cloud, which provides a comprehensive integration platform for connecting applications, services, and data sources.\n5. **Oracle API Gateway**: Autonomous Database can be exposed as a RESTful API using Oracle API Gateway, which provides a secure and scalable API management platform.\n6. **Oracle Cloud Security**: Autonomous Database integrates with Oracle Cloud Security services, such as Oracle Identity Cloud Service and Oracle Cloud Guard, to provide a comprehensive security platform for protecting sensitive data.\n7. **Oracle Machine Learning**: Autonomous Database can be used with Oracle Machine Learning, which provides a comprehensive machine learning platform for building, deploying, and managing machine learning models.\n8. **Oracle Data Science**: Autonomous Database can be used with Oracle Data Science, which provides a comprehensive data science platform for data preparation, modeling, and deployment.\n\nSome of the key integration benefits include:\n\n* **Simplified data management**: Autonomous Database can be used to manage data across multiple Oracle Cloud services, providing a single source of truth for data management.\n* **Improved data analytics**: Autonomous Database can be used to provide real-time data analytics and insights to Oracle Cloud Applications and other services.\n* **Enhanced security**: Autonomous Database integrates with Oracle Cloud Security services to provide a comprehensive security platform for protecting sensitive data.\n* **Increased productivity**: Autonomous Database can be used to automate many database management tasks, freeing up developers and DBAs to focus on higher-level tasks.\n\nOverall, the integration of Autonomous Database with other Oracle Cloud services provides a comprehensive and integrated platform for building, deploying, and managing cloud-based applications and services.\n",
              "type" : "TEXT"
            }
          ],
          "forms" : "[]"
        },
        "relations" : [ ],
        "dynamicFormParams" : "{}"
      },
      {
        "row" : 0,
        "col" : 0,
        "sizeX" : 0,
        "width" : 12,
        "title" : null,
        "hasTitle" : false,
        "message" : [
          "%md",
          "",
          "#### Use GENERATE for dynamic action selection",
          "",
          "The `generate()` method handles different Select AI actions specified as an argument. Additional parameters like conversation IDs can be passed for context-aware ",
          "conversations. ",
          "",
          "The example below uses the 'chat' action to generate a promotional email from structured prompts."
        ],
        "selectedVisualization" : "html",
        "visualizationConfig" : null,
        "hideCode" : true,
        "hideResult" : false,
        "hideGutter" : true,
        "hideVizConfig" : true,
        "hideInIFrame" : false,
        "enabled" : true,
        "forms" : "[]",
        "result" : {
          "startTime" : 1764695506277,
          "endTime" : 1764695507287,
          "interpreter" : "md.low",
          "taskStatus" : "SUCCESS",
          "status" : "SUCCESS",
          "results" : [
            {
              "message" : "<h4 id=\"use-generate-for-dynamic-action-selection\">Use GENERATE for dynamic action selection</h4>\n<p>The <code>generate()</code> method handles different Select AI actions specified as an argument. Additional parameters like conversation IDs can be passed for context-aware\nconversations.</p>\n<p>The example below uses the 'chat' action to generate a promotional email from structured prompts.</p>\n",
              "type" : "HTML"
            }
          ],
          "forms" : "[]"
        },
        "relations" : [ ],
        "dynamicFormParams" : "{}"
      },
      {
        "row" : 0,
        "col" : 0,
        "sizeX" : 0,
        "width" : 12,
        "title" : "Generate a promotional email using 'chat'",
        "hasTitle" : true,
        "message" : [
          "%python",
          "",
          "prompt = \"\"\"Create a promotional email with a catchy subject line and convincing email text. Follow the task rules:",
          "{",
          "  \"task\": \"Draft a promotional message for a new eco-friendly travel mug\",",
          "  \"task_rules\": \"1. Highlight its reusable and sustainable features.",
          "                 2. Use a friendly and engaging tone.",
          "                 3. Suggest a limited-time discount to encourage quick action.,",
          "                 4. Include friendly, uplifting emoticons\",",
          "  \"audience\": \"General consumers interested in sustainable living\"",
          "}\"\"\"",
          "",
          "response   = profile.generate(",
          "    prompt = prompt,",
          "    action = select_ai.Action.CHAT",
          ")",
          "",
          "print(response)"
        ],
        "selectedVisualization" : "raw",
        "visualizationConfig" : null,
        "hideCode" : false,
        "hideResult" : false,
        "hideGutter" : true,
        "hideVizConfig" : false,
        "hideInIFrame" : false,
        "enabled" : true,
        "forms" : "[]",
        "result" : {
          "startTime" : 1764695507704,
          "endTime" : 1764695520247,
          "interpreter" : "python.low",
          "taskStatus" : "SUCCESS",
          "status" : "SUCCESS",
          "results" : [
            {
              "message" : "Here's a promotional email that meets the task rules:\n\n**Subject: ☕️ Sip Sustainably with Our New Eco-Friendly Travel Mug! \uD83C\uDF0E**\n\nDear Fellow Eco-Warriors! \uD83C\uDF1F\n\nAre you tired of using disposable coffee cups that harm our planet? \uD83C\uDF2A️ We've got the perfect solution for you! Introducing our brand new, eco-friendly travel mug that's not only stylish but also reusable and sustainable! \uD83C\uDF89\n\nOur travel mug is made from high-quality, BPA-free materials that are designed to last. With its double-walled insulation, your drinks will stay hot or cold for hours, and the leak-proof lid ensures that you can take it on-the-go without any spills! \uD83D\uDE4C\n\nBy switching to our eco-friendly travel mug, you'll be reducing your carbon footprint and helping to minimize waste. Plus, it's dishwasher safe, making it easy to clean and maintain! \uD83C\uDF3F\n\nAs a special launch offer, we're giving you 15% off your first purchase! \uD83C\uDF81 Just use the code ECO15 at checkout to redeem your discount. But hurry, this offer is only valid for a limited time! ⏰\n\nSo why wait? Join the sustainable living movement and get your eco-friendly travel mug today! \uD83C\uDF1F\n\n**Limited Time Offer: 15% off your first purchase with code ECO15 \uD83C\uDF81**\n\nShop now and start sipping sustainably: [Insert CTA button: Shop Now]\n\nHappy sipping, and thank you for choosing a more sustainable way to enjoy your favorite drinks! \uD83D\uDE4F\n\nBest,\n[Your Name] \uD83C\uDF38\n\nP.S. Don't forget to share your eco-friendly travel mug with friends and family on social media and tag us! \uD83D\uDCF8 We'd love to see how you're making a difference! \uD83C\uDF0E\n",
              "type" : "TEXT"
            }
          ],
          "forms" : "[]"
        },
        "relations" : [ ],
        "dynamicFormParams" : "{}"
      },
      {
        "row" : 0,
        "col" : 0,
        "sizeX" : 0,
        "width" : 12,
        "title" : "Generate a customer email response about a return policy using 'chat'",
        "hasTitle" : true,
        "message" : [
          "%python",
          "",
          "prompt = \"\"\"Respond to a customer query with succinct and clear instructions about the return policy of a company. Follow the task rules:",
          "{",
          "  \"task\": \"Provide a customer-friendly response to a query about the company return policy\",",
          "  \"task_rules\": \"1. The return policy allows for returns within 30 days of purchase with the original receipt. ",
          "                 2. Products must be in new, unused condition with original packaging. ",
          "                 3. The response should be concise, professional, and helpful, aimed at educating the customer about the return process. ",
          "                 4. Ensure the response is polite and assures the customer that their concerns are understood and valued.\",",
          "  \"audience\": \"Customer support agents\"",
          "}\"\"\"",
          "",
          "response   = profile.generate(",
          "    prompt = prompt,",
          "    action = select_ai.Action.CHAT",
          ")",
          "",
          "print(response)"
        ],
        "selectedVisualization" : "raw",
        "visualizationConfig" : null,
        "hideCode" : false,
        "hideResult" : false,
        "hideGutter" : true,
        "hideVizConfig" : false,
        "hideInIFrame" : false,
        "enabled" : true,
        "forms" : "[]",
        "result" : {
          "startTime" : 1764695521099,
          "endTime" : 1764695530203,
          "interpreter" : "python.low",
          "taskStatus" : "SUCCESS",
          "status" : "SUCCESS",
          "results" : [
            {
              "message" : "Here's a response to a customer query about the return policy:\n\nDear [Customer],\n\nThank you for reaching out to us about our return policy. We understand that you may have questions about returning a product, and we're happy to help.\n\nTo initiate a return, please ensure that you have the original receipt and that the product is in its original packaging, unused and in new condition. You can return your purchase within 30 days of the original purchase date.\n\nHere's a step-by-step guide to help you with the return process:\n\n1. **Check your eligibility**: Make sure you have the original receipt and the product is in its original condition.\n2. **Contact us**: Reach out to our customer support team via phone or email to obtain a Return Merchandise Authorization (RMA) number.\n3. **Ship the product**: Carefully package the product and ship it back to us with the RMA number included.\n4. **Receive a refund**: Once we receive the returned product, we'll process your refund within 5-7 business days.\n\nWe value your business and want to ensure that you're completely satisfied with your purchase. If you have any further questions or concerns, please don't hesitate to contact us. We're here to help.\n\nThank you for choosing our company, and we look forward to assisting you with your return.\n\nBest regards,\n[Your Name]\nCustomer Support Team\n",
              "type" : "TEXT"
            }
          ],
          "forms" : "[]"
        },
        "relations" : [ ],
        "dynamicFormParams" : "{}"
      },
      {
        "row" : 0,
        "col" : 0,
        "sizeX" : 0,
        "width" : 12,
        "title" : "Generate a customized email promoting vacation ideas using 'chat'",
        "hasTitle" : true,
        "message" : [
          "%python",
          "",
          "prompt = \"\"\"Generate email using the JSON specification ",
          "{\"task\": \"Pick 5 great things to do at the location\",",
          " \"task_rules\": \"1. Encourage the customer to do these things. Really sell them as to why it would be right for them ",
          "    2. Consider all the information about the customer that's provided, including family and dog situation, whether they have a car and income",
          "    3. Format the result with emojis and make it fun\",",
          " \"last_name\": \"Mouly\",",
          " \"first_name\": \"Jennine\",",
          " \"location\": \"Paris, ?le-De-France\",",
          " \"age\": 37,",
          " \"gender\": \"Female\",",
          " \"has_kids\": \"NO\",",
          " \"num_cars\": 2,",
          " \"income_level\": \"F: Above 110,000\",",
          " \"dog_owner\": \"NO\"}\"\"\"",
          "",
          "response   = profile.generate(",
          "    prompt = prompt,",
          "    action = select_ai.Action.CHAT",
          ")",
          "",
          "print(response)"
        ],
        "selectedVisualization" : "raw",
        "visualizationConfig" : null,
        "hideCode" : false,
        "hideResult" : false,
        "hideGutter" : true,
        "hideVizConfig" : false,
        "hideInIFrame" : false,
        "enabled" : true,
        "forms" : "[]",
        "result" : {
          "startTime" : 1764695530634,
          "endTime" : 1764695547540,
          "interpreter" : "python.low",
          "taskStatus" : "SUCCESS",
          "status" : "SUCCESS",
          "results" : [
            {
              "message" : "Here's an email to Jennine Mouly:\n\nSubject: \uD83C\uDF89 5 Amazing Things to Do in Paris, Just for You! \uD83D\uDE0A\n\nDear Jennine,\n\nBonjour! \uD83C\uDDEB\uD83C\uDDF7 As a high-income earner with a love for luxury and adventure, I've curated a list of 5 fantastic things to do in Paris that are tailored just for you! \uD83C\uDF81 With your two cars, you'll have the freedom to explore the city and its surroundings with ease. \uD83D\uDE97\n\nHere are the top 5 experiences you won't want to miss:\n\n1. **Seine River Cruise** \uD83D\uDEA3‍♀️: Enjoy a romantic evening cruise along the Seine, taking in the stunning city views and learning about Paris' rich history. With your high income, you can indulge in a luxurious dinner cruise or a private boat tour. \uD83C\uDF74\n2. **Visit the Louvre Museum** \uD83C\uDFA8: As a sophisticated traveler, you'll appreciate the world-class art and culture that the Louvre has to offer. With over 550,000 works of art, you'll be spoiled for choice. Be sure to check out the Mona Lisa and other famous masterpieces! \uD83E\uDD29\n3. **Explore the Champs-Élysées** \uD83D\uDECD️: This iconic avenue is a shopper's paradise, with high-end boutiques, cafes, and restaurants. You can indulge in some retail therapy, enjoy a coffee or meal at a sidewalk cafe, or simply take in the sights and sounds of the city. \uD83C\uDF1F\n4. **Take a Day Trip to Versailles** \uD83C\uDFF0: With your cars, you can easily take a day trip to the stunning Palace of Versailles, a former royal residence with breathtaking gardens, fountains, and architecture. You can even book a private tour or rent a bike to explore the grounds. \uD83D\uDEB4‍♀️\n5. **Enjoy a Cabaret Show at the Moulin Rouge** \uD83C\uDFAD: For a truly unforgettable experience, treat yourself to a night out at the world-famous Moulin Rouge. With its spectacular performances, elaborate costumes, and historic setting, you'll be mesmerized by the magic of Parisian nightlife. \uD83C\uDF03\n\nThese experiences are sure to make your time in Paris unforgettable, Jennine! \uD83D\uDE4C With your love of luxury and adventure, you'll fit right in with the city's sophisticated vibe. \uD83D\uDE0A\n\nBon voyage et à bientôt à Paris! \uD83C\uDDEB\uD83C\uDDF7\n\nBest regards,\n[Your Name] \uD83D\uDE0A\n",
              "type" : "TEXT"
            }
          ],
          "forms" : "[]"
        },
        "relations" : [ ],
        "dynamicFormParams" : "{}"
      },
      {
        "row" : 0,
        "col" : 0,
        "sizeX" : 0,
        "width" : 12,
        "title" : "Load travel recommendations and customer feedback data sets",
        "hasTitle" : true,
        "message" : [
          "%python\r",
          "\r",
          "import oml\r",
          "\r",
          "# Drop tables if they exist\r",
          "try:\r",
          "    oml.drop(table=\"TRAVEL_RECOMMENDATIONS\")\r",
          "except:\r",
          "    pass\r",
          "\r",
          "try:\r",
          "    oml.drop(table=\"CUSTOMER_FEEDBACK\")\r",
          "except:\r",
          "    pass\r",
          "\r",
          "# Create and load travel_recommendations table\r",
          "travel_data = [\r",
          "    (1, 'Pick 5 great things to do at the location', '1. Encourage the customer to do these things. Really sell them as to why it would be right for them 2. Take into account all the information about the customer that''s provided, including family and dog situation, whether they have a car and income 3. Format the result with emojis and make it fun', 'Mouly', 'Jennine', 'Paris, ?le-De-France', 37, 'Female', 'NO', 2, 'F: Above 110,000', 'NO'),\r",
          "    (2, 'Pick 5 great things to do at the location', '1. Encourage the customer to do these things. Really sell them as to why it would be right for them 2. Take into account all the information about the customer that''s provided, including family and dog situation, whether they have a car and income 3. Format the result with emojis and make it fun', 'Kwon', 'Min-Jae', 'Seoul, South Korea', 45, 'Male', 'YES', 1, 'E: 80,000–110,000', 'YES'),\r",
          "    (3, 'Pick 5 great things to do at the location', '1. Encourage the customer to do these things. Really sell them as to why it would be right for them 2. Take into account all the information about the customer that''s provided, including family and dog situation, whether they have a car and income 3. Format the result with emojis and make it fun', 'Nguyen', 'Linh', 'Hoi An, Vietnam', 29, 'Female', 'NO', 0, 'C: 30,000–50,000', 'NO'),\r",
          "    (4, 'Pick 5 great things to do at the location', '1. Encourage the customer to do these things. Really sell them as to why it would be right for them 2. Take into account all the information about the customer that''s provided, including family and dog situation, whether they have a car and income 3. Format the result with emojis and make it fun', 'Gonzalez', 'Carlos', 'Barcelona, Spain', 34, 'Male', 'YES', 2, 'D: 50,000–80,000', 'YES'),\r",
          "    (5, 'Pick 5 great things to do at the location', '1. Encourage the customer to do these things. Really sell them as to why it would be right for them 2. Take into account all the information about the customer that''s provided, including family and dog situation, whether they have a car and income 3. Format the result with emojis and make it fun', 'Smith', 'Angela', 'New York City, USA', 41, 'Female', 'NO', 1, 'F: Above 110,000', 'NO')\r",
          "]\r",
          "\r",
          "import pandas as pd\r",
          "travel_df = pd.DataFrame(travel_data, columns=['ID', 'TASK', 'TASK_RULES', 'LAST_NAME', 'FIRST_NAME', 'LOCATION', 'AGE', 'GENDER', 'HAS_KIDS', 'NUM_CARS', 'INCOME_LEVEL', 'DOG_OWNER'])\r",
          "oml.create(travel_df, table=\"TRAVEL_RECOMMENDATIONS\")\r",
          "\r",
          "# Create and load customer_feedback table\r",
          "feedback_data = [\r",
          "    (1,  'Morgan',   'Smith',     'Pixel 8',         'Absolutely love this phone! The battery lasts forever and the camera is top-notch.'),\r",
          "    (2,  'Morgan',   'Smith',     'OnePlus 12',      'Incredible value for the price. Exceeded my expectations!'),\r",
          "    (3,  'Reese',    'Martinez',  'Xperia 1 V',      'Best smartphone I have ever used. Highly recommend!'),\r",
          "    (4,  'Jordan',   'Anderson',  'Galaxy S24',      'Absolutely love this phone! The battery lasts forever and the camera is top-notch.'),\r",
          "    (5,  'Taylor',   'Nguyen',    'Pixel 8',         'Absolutely love this phone! The battery lasts forever and the camera is top-notch.')\r",
          "]\r",
          "\r",
          "feedback_df = pd.DataFrame(feedback_data, columns=['ID', 'FIRST_NAME', 'LAST_NAME', 'PRODUCT', 'PRODUCT_FEEDBACK'])\r",
          "oml_df = oml.create(feedback_df, table=\"CUSTOMER_FEEDBACK\")\r",
          "oml_df.head()"
        ],
        "selectedVisualization" : "raw",
        "visualizationConfig" : null,
        "hideCode" : true,
        "hideResult" : true,
        "hideGutter" : true,
        "hideVizConfig" : true,
        "hideInIFrame" : false,
        "enabled" : true,
        "forms" : "[]",
        "result" : {
          "startTime" : 1764695547988,
          "endTime" : 1764695548655,
          "interpreter" : "python.low",
          "taskStatus" : "SUCCESS",
          "status" : "SUCCESS",
          "results" : [
            {
              "message" : "   ID FIRST_NAME  ...     PRODUCT                                   PRODUCT_FEEDBACK\n0   1     Morgan  ...     Pixel 8  Absolutely love this phone! The battery lasts ...\n1   2     Morgan  ...  OnePlus 12  Incredible value for the price. Exceeded my ex...\n2   3      Reese  ...  Xperia 1 V  Best smartphone I have ever used. Highly recom...\n3   4     Jordan  ...  Galaxy S24  Absolutely love this phone! The battery lasts ...\n4   5     Taylor  ...     Pixel 8  Absolutely love this phone! The battery lasts ...\n\n[5 rows x 5 columns]\n",
              "type" : "TEXT"
            }
          ],
          "forms" : "[]"
        },
        "relations" : [ ],
        "dynamicFormParams" : "{}"
      },
      {
        "row" : 0,
        "col" : 0,
        "sizeX" : 0,
        "width" : 12,
        "title" : "Identify sentiment of customer product feedback",
        "hasTitle" : true,
        "message" : [
          "%python",
          "",
          "import oml",
          "import pandas as pd",
          "",
          "feedback = oml.sync(table=\"CUSTOMER_FEEDBACK\")",
          "df       = feedback.pull()",
          "",
          "results = []",
          "for _, row in df.iterrows():",
          "    sentiment  = profile.generate(",
          "        prompt = \"Return the sentiment of the following text using only the values positive, neutral, or negative, nothing else: \" + row['PRODUCT_FEEDBACK'],",
          "        action = select_ai.Action.CHAT",
          "    )",
          "    results.append({\"id\": row['ID'], \"product\": row['PRODUCT'], \"sentiment\": sentiment.strip()})",
          "",
          "results_df = pd.DataFrame(results)",
          "print(results_df)"
        ],
        "selectedVisualization" : "raw",
        "visualizationConfig" : null,
        "hideCode" : false,
        "hideResult" : false,
        "hideGutter" : true,
        "hideVizConfig" : false,
        "hideInIFrame" : false,
        "enabled" : true,
        "forms" : "[]",
        "result" : {
          "startTime" : 1764695549070,
          "endTime" : 1764695554568,
          "interpreter" : "python.low",
          "taskStatus" : "SUCCESS",
          "status" : "SUCCESS",
          "results" : [
            {
              "message" : "   id     product sentiment\n0   1     Pixel 8  positive\n1   2  OnePlus 12  positive\n2   3  Xperia 1 V  positive\n3   4  Galaxy S24  positive\n4   5     Pixel 8  positive\n",
              "type" : "TEXT"
            }
          ],
          "forms" : "[]"
        },
        "relations" : [ ],
        "dynamicFormParams" : "{}"
      },
      {
        "row" : 0,
        "col" : 0,
        "sizeX" : 0,
        "width" : 12,
        "title" : "Augment the query above to aggregate the counts of the sentiment",
        "hasTitle" : true,
        "message" : [
          "%python",
          "",
          "feedback = oml.sync(table=\"CUSTOMER_FEEDBACK\")",
          "df = feedback.pull()",
          "",
          "results = []",
          "for _, row in df.iterrows():",
          "    sentiment  = profile.generate(",
          "        prompt = \"Return the sentiment of the following text using only the values positive, neutral, or negative, nothing else: \" + row['PRODUCT_FEEDBACK'],",
          "        action = select_ai.Action.CHAT",
          "    )",
          "    results.append({\"product\": row['PRODUCT'], \"sentiment\": sentiment.strip()})",
          "",
          "results_df       = pd.DataFrame(results)",
          "sentiment_counts = results_df.groupby([\"product\", \"sentiment\"]).size().reset_index(name=\"count\")",
          "sentiment_counts = sentiment_counts.sort_values([\"sentiment\", \"product\"], ascending=[False, True])",
          "print(sentiment_counts)"
        ],
        "selectedVisualization" : "raw",
        "visualizationConfig" : null,
        "hideCode" : false,
        "hideResult" : false,
        "hideGutter" : true,
        "hideVizConfig" : false,
        "hideInIFrame" : false,
        "enabled" : true,
        "forms" : "[]",
        "result" : {
          "startTime" : 1764695555077,
          "endTime" : 1764695559673,
          "interpreter" : "python.low",
          "taskStatus" : "SUCCESS",
          "status" : "SUCCESS",
          "results" : [
            {
              "message" : "      product sentiment  count\n0  Galaxy S24  positive      1\n1  OnePlus 12  positive      1\n2     Pixel 8  positive      2\n3  Xperia 1 V  positive      1\n",
              "type" : "TEXT"
            }
          ],
          "forms" : "[]"
        },
        "relations" : [ ],
        "dynamicFormParams" : "{}"
      },
      {
        "row" : 0,
        "col" : 0,
        "sizeX" : 0,
        "width" : 12,
        "title" : "Filter for product reviews with positive feedback",
        "hasTitle" : true,
        "message" : [
          "%python",
          "",
          "feedback = oml.sync(table = \"CUSTOMER_FEEDBACK\")",
          "df = feedback.pull()",
          "",
          "results = []",
          "for _, row in df.iterrows():",
          "    sentiment  = profile.generate(",
          "        prompt = \"Return the sentiment of the following text using only the values positive, neutral, or negative, nothing else: \" + row['PRODUCT_FEEDBACK'],",
          "        action = select_ai.Action.CHAT",
          "    )",
          "    if sentiment.strip().lower() == \"positive\":",
          "        results.append({\"id\": row['ID'], \"product\": row['PRODUCT']})",
          "",
          "results_df = pd.DataFrame(results)",
          "print(results_df)"
        ],
        "selectedVisualization" : "raw",
        "visualizationConfig" : null,
        "hideCode" : false,
        "hideResult" : false,
        "hideGutter" : true,
        "hideVizConfig" : false,
        "hideInIFrame" : false,
        "enabled" : true,
        "forms" : "[]",
        "result" : {
          "startTime" : 1764695560080,
          "endTime" : 1764695562959,
          "interpreter" : "python.low",
          "taskStatus" : "SUCCESS",
          "status" : "SUCCESS",
          "results" : [
            {
              "message" : "   id     product\n0   1     Pixel 8\n1   2  OnePlus 12\n2   3  Xperia 1 V\n3   4  Galaxy S24\n4   5     Pixel 8\n",
              "type" : "TEXT"
            }
          ],
          "forms" : "[]"
        },
        "relations" : [ ],
        "dynamicFormParams" : "{}"
      },
      {
        "row" : 0,
        "col" : 0,
        "sizeX" : 0,
        "width" : 12,
        "title" : "Summarize feedback grouped by product",
        "hasTitle" : true,
        "message" : [
          "%python",
          "",
          "import json",
          "",
          "feedback = oml.sync(table = \"CUSTOMER_FEEDBACK\")",
          "df       = feedback.pull()",
          "",
          "product_feedback = {}",
          "for _, row in df.iterrows():",
          "    product       = row['PRODUCT']",
          "    feedback_text = row['PRODUCT_FEEDBACK']",
          "    if product not in product_feedback:",
          "        product_feedback[product] = []",
          "    product_feedback[product].append({\"feedback_text\": feedback_text})",
          "",
          "results = []",
          "for product, feedbacks in product_feedback.items():",
          "    all_feedback   = json.dumps(feedbacks)",
          "    review_summary = profile.generate(",
          "        prompt     = all_feedback,",
          "        action     = select_ai.Action.CHAT",
          "    )",
          "    results.append({\"product\": product, \"review_summary\": review_summary})",
          "",
          "results_df = pd.DataFrame(results)",
          "results_df['review_summary'] = results_df['review_summary'].str.extract(r'(Positive|Negative)', expand=False)",
          "results_df"
        ],
        "selectedVisualization" : "raw",
        "visualizationConfig" : null,
        "hideCode" : false,
        "hideResult" : false,
        "hideGutter" : true,
        "hideVizConfig" : false,
        "hideInIFrame" : false,
        "enabled" : true,
        "forms" : "[]",
        "result" : {
          "startTime" : 1764695563362,
          "endTime" : 1764695565363,
          "interpreter" : "python.low",
          "taskStatus" : "SUCCESS",
          "status" : "SUCCESS",
          "results" : [
            {
              "message" : "      product review_summary\n0     Pixel 8            NaN\n1  OnePlus 12            NaN\n2  Xperia 1 V            NaN\n3  Galaxy S24            NaN\n",
              "type" : "TEXT"
            }
          ],
          "forms" : "[]"
        },
        "relations" : [ ],
        "dynamicFormParams" : "{}"
      },
      {
        "row" : 0,
        "col" : 0,
        "sizeX" : 0,
        "width" : 12,
        "title" : null,
        "hasTitle" : false,
        "message" : [
          "%md",
          "## End of Script"
        ],
        "selectedVisualization" : "html",
        "visualizationConfig" : null,
        "hideCode" : true,
        "hideResult" : false,
        "hideGutter" : true,
        "hideVizConfig" : true,
        "hideInIFrame" : false,
        "enabled" : true,
        "forms" : "[]",
        "result" : {
          "startTime" : 1764695565846,
          "endTime" : 1764695566336,
          "interpreter" : "md.low",
          "taskStatus" : "SUCCESS",
          "status" : "SUCCESS",
          "results" : [
            {
              "message" : "<h2 id=\"end-of-script\">End of Script</h2>\n",
              "type" : "HTML"
            }
          ],
          "forms" : "[]"
        },
        "relations" : [ ],
        "dynamicFormParams" : "{}"
      }
    ]
  }
]